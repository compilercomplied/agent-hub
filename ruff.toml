# Ruff configuration with strictest mode possible
line-length = 88
target-version = "py312"

[lint]
# Enable all rules
select = ["ALL"]

# Explicitly enable the strictest checks
ignore = [
    # We'll be very selective about what we ignore
    # Only ignore rules that conflict with each other or are impossible to satisfy together
    "COM812",  # Conflicts with formatter
    "ISC001",  # Conflicts with formatter
]

# Allow autofix for all enabled rules
fixable = ["ALL"]
unfixable = []

# Enable preview rules for even stricter checking
preview = true

[lint.per-file-ignores]
# Test files can have some relaxed rules
"e2e/**/*.py" = [
    "S101",    # Allow assert statements in tests
    "PLR2004", # Allow magic values in tests
    "ANN",     # Allow missing type annotations in tests
]

[lint.pydocstyle]
convention = "google"

[lint.isort]
required-imports = ["from __future__ import annotations"]

[lint.flake8-type-checking]
strict = true

[format]
quote-style = "double"
indent-style = "space"
docstring-code-format = true
docstring-code-line-length = 72
